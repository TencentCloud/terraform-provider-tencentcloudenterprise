---
subcategory: "Cloud Log Service(CLS)"
layout: "cloud"
page_title: "TencentCloud: cloud_cls_machine_group"
sidebar_current: "docs-cloud-resources-cls_machine_group"
description: |-
  Provides a resource to create a cls machine group.
---

# cloud_cls_machine_group

Provides a resource to create a cls machine group.

## Example Usage

```hcl
resource "cloud_cls_machine_group" "group" {
  group_name      = "group"
  service_logging = true
  tags = {
    "test" = "test1"
  }
  update_end_time   = "19:05:40"
  update_start_time = "17:05:40"

  machine_group_type {
    type = "ip"
    values = [
      "203.0.113.101",
      "203.0.113.102",
    ]
  }
}
```

## Argument Reference

The following arguments are supported:

* `group_name` - (Required, String) Machine group name, which must be unique.
* `auto_update` - (Optional, Bool) Whether to enable automatic update for the machine group. `true` means to enable automatic update, `false` means to disable. Default is `false`.
* `delay_cleanup_time` - (Optional, Int) Offline cleaning time for machines in the machine group. Unit: days.
* `flag` - (Optional, String) TKE flag. An empty string indicates that the logs are not from TKE, and `label_k8s` indicates that the logs are from TKE.
* `machine_group_type` - (Optional, List) Type of the machine group to be created. `ip`: machine group created with a list of IP strings in `Values`. `label`: machine group created with a list of label strings in `Values`.
* `meta_tags` - (Optional, List) List of metadata tags for the machine group.
* `os_type` - (Optional, Int) Operating system type. 0: Linux (default), 1: Windows.
* `service_logging` - (Optional, Bool) Whether to enable service logging, which is used to record logs generated by the LogListener service itself. After it is enabled, the internal log set `cls_service_logging` and log topics `loglistener_status`, `loglistener_alarm`, and `loglistener_business` will be created, which will not incur fees. Default is `false`.
* `tags` - (Optional, Map) Tag description list. By specifying this parameter, tags can be bound to the corresponding machine group at the same time. A maximum of 10 tag key-value pairs are supported, and the same resource can only be bound to the same tag key.
* `update_end_time` - (Optional, String) Update end time. It is recommended to upgrade LogListener during off-peak hours.
* `update_start_time` - (Optional, String) Update start time. It is recommended to upgrade LogListener during off-peak hours.

The `machine_group_type` object supports the following:

* `type` - (Required, String) Machine group type. Supported values: `ip` and `label`. `ip` means the `Values` of this machine group stores the IP addresses of the machines to be collected. `label` means the `Values` of this machine group stores the machine labels.
* `values` - (Optional, List) Machine description list.

The `meta_tags` object supports the following:

* `key` - (Required, String) Metadata key.
* `value` - (Required, String) Metadata value.

## Attributes Reference

In addition to all arguments above, the following attributes are exported:

* `id` - ID of the resource.
* `group_id` - Machine group id.


## Import

cls machine group can be imported using the id, e.g.

```
$ terraform import cloud_cls_machine_group.group caf168e7-32cd-4ac6-bf89-1950a760e09c
```

